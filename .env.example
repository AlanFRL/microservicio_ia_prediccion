# ============================================
# MongoDB Configuration
# ============================================
MONGODB_URI=mongodb+srv://agencia_user:uagrm2025@agencia-database.8n7ayzu.mongodb.net/?appName=agencia-database
MONGODB_DATABASE=agencia_viajes

# ============================================
# Prediction Settings
# ============================================
# Umbral de riesgo para guardar predicciones (0.0 - 1.0)
# Solo se guardan predicciones con probabilidad >= UMBRAL_RIESGO
UMBRAL_RIESGO=0.70

# ============================================
# Email Configuration (SMTP)
# ============================================
# Modo de email: "simulacion" o "real"
# - simulacion: Solo registra en logs (desarrollo)
# - real: Envía emails reales vía SMTP (producción)
EMAIL_MODE=simulacion

# Servidor SMTP (ejemplo: smtp.gmail.com, smtp.office365.com)
SMTP_HOST=

# Puerto SMTP (587 para TLS, 465 para SSL)
SMTP_PORT=587

# Usuario del email (tu dirección de correo)
SMTP_USER=

# Contraseña del email o App Password
SMTP_PASSWORD=

# ============================================
# CONFIGURACIÓN DE GMAIL (RECOMENDADO)
# ============================================
# Para usar Gmail, sigue estos pasos:
#
# 1. Ve a tu cuenta de Google: https://myaccount.google.com/
# 2. Seguridad > Verificación en dos pasos (debe estar ACTIVADA)
# 3. Seguridad > Contraseñas de aplicaciones
# 4. Genera una nueva contraseña de aplicación:
#    - Nombre: "Microservicio IA Agencia"
#    - Copia la contraseña de 16 caracteres
#
# 5. Configura en tu .env:
#    EMAIL_MODE=real
#    SMTP_HOST=smtp.gmail.com
#    SMTP_PORT=587
#    SMTP_USER=tu-email@gmail.com
#    SMTP_PASSWORD=xxxx xxxx xxxx xxxx  (App Password de 16 caracteres)
#
# IMPORTANTE:
# - NO uses tu contraseña normal de Gmail
# - USA la "App Password" generada en el paso 4
# - La verificación en dos pasos DEBE estar activa
#
# Ejemplo completo:
# EMAIL_MODE=real
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=alanfromerol@gmail.com
# SMTP_PASSWORD=abcd efgh ijkl mnop

# ============================================
# NOTAS DE CONFIGURACIÓN
# ============================================
# 
# MONGODB_URI: Usa la misma conexión que Spring Boot
# 
# UMBRAL_RIESGO: 
#   - 0.70 = 70% de probabilidad de cancelación
#   - Solo predicciones >= 70% se guardan en MongoDB
#   - Ajustar según necesidades del negocio
#
# EMAIL_MODE (Modos de operación):
#   - simulacion: Solo logs en consola (desarrollo/testing)
#   - real: Envía emails reales vía SMTP (producción)
#
# Manejo de errores robusto:
#   - Emails inválidos se omiten automáticamente
#   - Si un email falla, continúa con los demás
#   - No bloquea las peticiones de Spring Boot
#
# ============================================
# DESPLIEGUE EN KUBERNETES (Digital Ocean)
# ============================================
# En producción, NO uses archivos .env
# Usa Kubernetes Secrets:
#
# kubectl create secret generic fastapi-secrets \
#   --from-literal=MONGODB_URI="mongodb+srv://..." \
#   --from-literal=EMAIL_MODE="real" \
#   --from-literal=SMTP_HOST="smtp.gmail.com" \
#   --from-literal=SMTP_PORT="587" \
#   --from-literal=SMTP_USER="alanfromerol@gmail.com" \
#   --from-literal=SMTP_PASSWORD="tu-app-password"
#
# Ver archivo: kubernetes-deployment.yaml
#     SMTP_PASSWORD=tu-app-password
#   - Nota: Gmail requiere "App Password" desde la configuración de seguridad
#
